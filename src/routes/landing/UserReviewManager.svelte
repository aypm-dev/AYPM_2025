<script lang="ts">
	import { fly } from 'svelte/transition';
	import UserReview from '$lib/components/UserReview.svelte';
	import Input from '$lib/components/Input.svelte';

	let user_review: string = 'Man, I love this Website!';
</script>

<div class="container">
	<div
		class="relative hidden sm:grid grid-cols-3 xl:grid-cols-7 h-[27rem] mt-24 gap-8 object-center overflow-y-clip"
	>
		<ul
			class="xl:col-span-2 flex flex-col h-[54rem] gap-4 items-start animate-infinite-scroll select-none"
		>
			{#each { length: 6 } as _, index}
				<UserReview
					emote={index % 2 == 0 ? 'fa-star' : 'fa-heart'}
					user_name="You"
					text={user_review}
				/>
			{/each}
		</ul>

		<div class="xl:col-span-3 flex flex-col h-[50%] justify-center">
			<div
				class="absolute top-0 left-0 w-full h-1/6 z-10 bg-gradient-to-b from-folly to-transparent"
			/>
			<div
				class="absolute top-[101%] -translate-y-full left-0 w-full h-1/6 z-10 bg-gradient-to-t from-folly to-transparent"
			/>

			<Input
				bind:value={user_review}
				maxlength={27}
				label="Your review"
				name="review_input"
				autocomplete={false}
			/>

			<p aria-disabled="true" class="mt-1 text-xs text-right select-none opacity-75">
				For legal reasons, this may or may not be a real review. My mom doesn't like lies :(
			</p>
			{#if user_review.toLowerCase() === 'man, i love this website!'}
				<p in:fly={{ y: -5, duration: 100 }} class="mt-4 text-xl text-center">
					Oh, really? That's so nice of you!!
					<svg
						width="20"
						height="21"
						viewBox="0 0 512 512"
						style="enable-background:new 0 0 512 512"
						xml:space="preserve"
						class="fill-white inline"
						><g
							><path
								d="M467.835 283.826c-13.469 0-26.039 6.245-34.299 16.376-8.26-10.131-20.83-16.376-34.299-16.376-24.353 0-44.165 19.812-44.165 44.165 0 34.273 52.727 78.563 74.714 91.257a7.493 7.493 0 0 0 7.5 0C450.475 411.633 512 363.576 512 327.99c0-24.352-19.812-44.164-44.165-44.164z"
							/><path
								d="M325.072 327.99c0-40.895 33.271-74.165 74.165-74.165 12.127 0 23.847 2.938 34.299 8.406 10.452-5.467 22.172-8.406 34.299-8.406 2.753 0 5.467.163 8.143.456C475.049 123.838 368.659 18 238 18 106.767 18 0 124.767 0 256s106.767 238 238 238c60.995 0 116.697-23.074 158.858-60.939-27.905-20.971-71.786-62.283-71.786-105.071zM187.059 207.825a35.5 35.5 0 0 0-33.586-24.001 35.499 35.499 0 0 0-33.595 24.025c-2.129 6.232-7.955 10.155-14.193 10.155-1.607 0-3.243-.26-4.85-.81-7.84-2.678-12.024-11.204-9.346-19.043 9.058-26.513 33.967-44.327 61.983-44.327 27.998 0 52.901 17.797 61.969 44.285 2.683 7.837-1.496 16.366-9.333 19.049-7.841 2.683-16.368-1.496-19.049-9.333zm101.949 147.969c7.532 9.038 9.111 21.272 4.121 31.929S277.728 405 265.961 405h-16.977c-8.284 0-15-6.716-15-15s6.716-15 15-15h16.977l-11.496-13.794c-9.272-11.129-9.272-27.282 0-38.41L265.961 309h-46.975c-8.284 0-15-6.716-15-15s6.716-15 15-15h46.975c11.766 0 22.176 6.619 27.167 17.274 4.992 10.656 3.413 22.892-4.121 31.932l-11.491 13.79zm-.064-147.944c-2.129 6.232-7.955 10.155-14.193 10.155-1.607 0-3.243-.26-4.85-.81-7.84-2.678-12.024-11.204-9.346-19.043 9.058-26.513 33.967-44.327 61.983-44.327 27.997 0 52.9 17.796 61.969 44.284 2.684 7.838-1.495 16.367-9.333 19.05-7.843 2.683-16.366-1.496-19.05-9.333a35.5 35.5 0 0 0-33.586-24.001 35.497 35.497 0 0 0-33.594 24.025z"
							/></g
						>
					</svg>
				</p>
			{:else}
				<p in:fly={{ y: -5, duration: 100 }} class="mt-4 text-xl text-center">
					Hey! What are you writting? I hope it's good...
					<svg
						width="20"
						height="21"
						viewBox="0 0 512 512"
						style="enable-background:new 0 0 512 512"
						xml:space="preserve"
						class="fill-white inline"
						><g
							><path
								d="M256 0C114.841 0 0 114.841 0 256s114.841 256 256 256 256-114.841 256-256S397.159 0 256 0zM99.321 203.672c-2.678-7.84 1.506-16.366 9.346-19.043 7.841-2.678 16.365 1.508 19.043 9.346a35.496 35.496 0 0 0 33.594 24.024 35.5 35.5 0 0 0 33.586-24.001c2.683-7.837 11.211-12.017 19.05-9.333 7.837 2.683 12.016 11.212 9.333 19.049C214.205 230.203 189.302 248 161.304 248c-28.018 0-52.927-17.814-61.983-44.328zM353.88 366.386a14.927 14.927 0 0 1-7.663 2.116c-5.112 0-10.094-2.614-12.9-7.325-16.146-27.099-45.772-43.933-77.316-43.933-31.455 0-61.038 16.762-77.204 43.745-4.258 7.106-13.469 9.418-20.576 5.158-7.106-4.257-9.416-13.47-5.158-20.576 21.555-35.977 60.998-58.327 102.938-58.327 42.059 0 81.56 22.445 103.088 58.577 4.239 7.118 1.908 16.325-5.209 20.565zm58.878-162.671C403.689 230.203 378.786 248 350.789 248c-28.019 0-52.928-17.814-61.983-44.327-2.678-7.84 1.506-16.366 9.346-19.043 7.843-2.678 16.365 1.508 19.043 9.346a35.502 35.502 0 0 0 67.181.023c2.685-7.837 11.216-12.014 19.05-9.333 7.837 2.683 12.015 11.211 9.332 19.049z"
							/>
						</g>
					</svg>
				</p>
			{/if}
		</div>

		<ul
			class="xl:col-span-2 flex flex-col h-[54rem] gap-4 items-end animate-infinite-scroll select-none"
		>
			{#each { length: 6 } as _, index}
				<UserReview
					emote={index % 2 == 0 ? 'fa-star' : 'fa-heart'}
					user_name="You"
					text={user_review}
				/>
			{/each}
		</ul>
	</div>
</div>

<div class="flex sm:hidden flex-col h-[50%] mt-16 justify-center">
	<Input
		bind:value={user_review}
		maxlength={27}
		label="Your review"
		name="review_input"
		autocomplete={false}
	/>
	<p class="mt-1 text-xs text-right select-none opacity-75">
		For legal reasons, this may or may not be a real review. My mom doesn't like lies :(
	</p>

	{#if user_review.toLowerCase() === 'man, i love this website!'}
		<p in:fly={{ y: -5, duration: 100 }} class="mt-4 text-xl text-center">
			Oh, really? That's so nice of you!!
			<svg
				width="20"
				height="21"
				viewBox="0 0 512 512"
				xml:space="preserve"
				class="fill-white inline"
				><g
					><path
						d="M467.835 283.826c-13.469 0-26.039 6.245-34.299 16.376-8.26-10.131-20.83-16.376-34.299-16.376-24.353 0-44.165 19.812-44.165 44.165 0 34.273 52.727 78.563 74.714 91.257a7.493 7.493 0 0 0 7.5 0C450.475 411.633 512 363.576 512 327.99c0-24.352-19.812-44.164-44.165-44.164z"
					/><path
						d="M325.072 327.99c0-40.895 33.271-74.165 74.165-74.165 12.127 0 23.847 2.938 34.299 8.406 10.452-5.467 22.172-8.406 34.299-8.406 2.753 0 5.467.163 8.143.456C475.049 123.838 368.659 18 238 18 106.767 18 0 124.767 0 256s106.767 238 238 238c60.995 0 116.697-23.074 158.858-60.939-27.905-20.971-71.786-62.283-71.786-105.071zM187.059 207.825a35.5 35.5 0 0 0-33.586-24.001 35.499 35.499 0 0 0-33.595 24.025c-2.129 6.232-7.955 10.155-14.193 10.155-1.607 0-3.243-.26-4.85-.81-7.84-2.678-12.024-11.204-9.346-19.043 9.058-26.513 33.967-44.327 61.983-44.327 27.998 0 52.901 17.797 61.969 44.285 2.683 7.837-1.496 16.366-9.333 19.049-7.841 2.683-16.368-1.496-19.049-9.333zm101.949 147.969c7.532 9.038 9.111 21.272 4.121 31.929S277.728 405 265.961 405h-16.977c-8.284 0-15-6.716-15-15s6.716-15 15-15h16.977l-11.496-13.794c-9.272-11.129-9.272-27.282 0-38.41L265.961 309h-46.975c-8.284 0-15-6.716-15-15s6.716-15 15-15h46.975c11.766 0 22.176 6.619 27.167 17.274 4.992 10.656 3.413 22.892-4.121 31.932l-11.491 13.79zm-.064-147.944c-2.129 6.232-7.955 10.155-14.193 10.155-1.607 0-3.243-.26-4.85-.81-7.84-2.678-12.024-11.204-9.346-19.043 9.058-26.513 33.967-44.327 61.983-44.327 27.997 0 52.9 17.796 61.969 44.284 2.684 7.838-1.495 16.367-9.333 19.05-7.843 2.683-16.366-1.496-19.05-9.333a35.5 35.5 0 0 0-33.586-24.001 35.497 35.497 0 0 0-33.594 24.025z"
					/></g
				>
			</svg>
		</p>
	{:else}
		<p in:fly={{ y: -5, duration: 100 }} class="mt-4 text-xl text-center">
			Hey! What are you writting? I hope it's good...
			<svg
				width="20"
				height="21"
				viewBox="0 0 512 512"
				xml:space="preserve"
				class="fill-white inline"
				><g
					><path
						d="M256 0C114.841 0 0 114.841 0 256s114.841 256 256 256 256-114.841 256-256S397.159 0 256 0zM99.321 203.672c-2.678-7.84 1.506-16.366 9.346-19.043 7.841-2.678 16.365 1.508 19.043 9.346a35.496 35.496 0 0 0 33.594 24.024 35.5 35.5 0 0 0 33.586-24.001c2.683-7.837 11.211-12.017 19.05-9.333 7.837 2.683 12.016 11.212 9.333 19.049C214.205 230.203 189.302 248 161.304 248c-28.018 0-52.927-17.814-61.983-44.328zM353.88 366.386a14.927 14.927 0 0 1-7.663 2.116c-5.112 0-10.094-2.614-12.9-7.325-16.146-27.099-45.772-43.933-77.316-43.933-31.455 0-61.038 16.762-77.204 43.745-4.258 7.106-13.469 9.418-20.576 5.158-7.106-4.257-9.416-13.47-5.158-20.576 21.555-35.977 60.998-58.327 102.938-58.327 42.059 0 81.56 22.445 103.088 58.577 4.239 7.118 1.908 16.325-5.209 20.565zm58.878-162.671C403.689 230.203 378.786 248 350.789 248c-28.019 0-52.928-17.814-61.983-44.327-2.678-7.84 1.506-16.366 9.346-19.043 7.843-2.678 16.365 1.508 19.043 9.346a35.502 35.502 0 0 0 67.181.023c2.685-7.837 11.216-12.014 19.05-9.333 7.837 2.683 12.015 11.211 9.332 19.049z"
					/>
				</g>
			</svg>
		</p>
	{/if}
</div>

<div class="flex sm:hidden relative h-32 mt-4 overflow-clip">
	<div class="absolute top-0 w-1/6 h-full z-10 bg-gradient-to-r from-folly to-transparent" />
	<div
		class="absolute left-full -translate-x-[calc(100%-2px)] w-1/6 h-full z-10 bg-gradient-to-l from-folly to-transparent"
	/>

	<ul
		class="flex h-[54rem] w-[34rem] gap-4 items-start animate-infinite-scroll-horizontal select-none"
	>
		{#each { length: 44 } as _, index}
			<UserReview
				emote={index % 2 == 0 ? 'fa-star' : 'fa-heart'}
				user_name="You"
				text={user_review}
			/>
		{/each}
	</ul>
</div>
