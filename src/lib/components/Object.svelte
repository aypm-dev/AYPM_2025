<script lang="ts">
	import { fade } from "svelte/transition";

    export let life_time = 5000
    export let scale = 8
    export let position: number[] = [12, 40]
    
    let object_types = ["kiwi", "crate", "bottle"]
    let object_type = object_types[Math.floor(Math.random() * object_types.length)];

    function load(node: HTMLElement) {
        node.style.left = `${position[0]}%`
        node.style.top = `${position[1]}%`
        node.style.transform = `scale(${(scale)*100}%, ${(scale)*100}%) translate(-50%, 50%)`

        let end_position = Math.random() * (75 - 40) + 60
        node.animate({
            "top": end_position + "%"
        }, { delay: 200, duration: life_time + 100, fill: "forwards"})
    }

</script>

<div
    use:load
    transition:fade={{duration:750}}
    class="opacity-10 absolute -z-10"
>
    {#if object_type === "crate"}
        <svg class="w-12 h-12 animate-spin" viewBox="0 0 512 512">
            <path d="M271 267.829V512l203.96-117.756a14.999 14.999 0 0 0 7.5-12.99V145.745zm159.786 93.624-92.937 53.652c-8.195 4.734-16.966.613-20.49-5.491-4.142-7.174-1.683-16.348 5.491-20.489l92.937-53.652c7.175-4.145 16.348-1.683 20.49 5.491s1.683 16.348-5.491 20.489zm0-92.936-92.937 53.652c-8.195 4.734-16.966.613-20.49-5.491-4.142-7.174-1.683-16.348 5.491-20.489l92.937-53.652c7.175-4.144 16.348-1.683 20.49 5.491s1.683 16.347-5.491 20.489zM306.571 26.877 263.5 2.01a15.002 15.002 0 0 0-15 0L44.54 119.764l50.572 29.197zM417.057 90.665l-211.46 122.084 50.403 29.1 211.459-122.085zM175.6 195.427 387.06 73.342l-50.484-29.148-211.46 122.085zM190.6 305.535a14.998 14.998 0 0 1-7.5 12.99c-.145.084-7.189 4.509-15 0L87.543 272.01a15.001 15.001 0 0 1-7.5-13.002l.067-84.068-50.57-29.196v235.509a14.999 14.999 0 0 0 7.5 12.99L241 512V267.829l-50.4-29.098z" fill="#000000" opacity="1" data-original="#000000" class=""></path>
            <path d="m110.05 250.365 50.55 29.188v-58.145l-50.504-29.159z" fill="#000000" opacity="1" data-original="#000000" class=""></path>
        </svg>
    {:else if object_type === "kiwi"}
        <svg class="w-12 h-12 animate-spin" viewBox="0 0 512 512">
            <path d="m507.606 228.536-50.509-50.509a124.386 124.386 0 0 1-16.631 20.622l-2.586 2.586 48.514 48.513c5.857 5.857 15.355 5.857 21.213 0 5.857-5.857 5.857-15.355-.001-21.212zM256 465.946h-58.054l-53.571-53.571a182.442 182.442 0 0 1-31.908-4.071v8.375c0 3.979 1.581 7.794 4.394 10.606l39.119 39.119c-6.531 1.622-11.379 7.508-11.379 14.542 0 8.284 6.716 15 15 15H256c8.284 0 15-6.716 15-15s-6.716-15-15-15zM419.391 43.92c-.109-.112-.22-.223-.332-.331-37.002-36.834-96.691-36.649-133.491.172l-35.782 35.781 16.117 16.117c5.858 5.857 5.858 15.355 0 21.213-5.857 5.857-15.355 5.857-21.213 0l-37.33-37.33h-55.97C67.914 79.542 0 147.455 0 230.964 0 316.283 69.377 382.53 151.642 382.53c39.341 0 77.915-15.397 106.964-44.446L419.25 177.44c36.797-36.809 36.845-96.662.141-133.52zm-35.924 67.492c0 8.284-6.716 15-15 15s-15-6.716-15-15V95.345c0-8.284 6.716-15 15-15s15 6.716 15 15z"/>
        </svg>
    {:else if object_type === "bottle"}
        <svg class="w-12 h-12 animate-spin" viewBox="0 0 210 512">
            <path d="M162 15c0-8.281-6.719-15-15-15H61c-8.281 0-15 6.719-15 15v46h116zM162.05 91H46.489C21.078 129.535 0 154.914 0 211h210c0-56.297-23.164-83.61-47.95-120zM132.598 327.523a15.009 15.009 0 0 1-19.207 0l-26.395-21.996-26.394 21.996a15.004 15.004 0 0 1-19.207 0L0 293.027V361h210v-12.977l-51.004-42.5zM0 467c0 24.813 20.188 45 45 45h120c24.813 0 45-20.188 45-45v-76H0zM0 253.973l50.996 42.5 26.399-21.996c5.558-4.637 13.64-4.633 19.203 0l26.398 21.996 26.399-21.996a14.994 14.994 0 0 1 19.203 0L210 308.973V241H0zm0 0"></path>
        </svg>
    {/if}
</div>
